(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a1d648f"],{"519b":function(e,t,a){"use strict";a("eb55")},eb55:function(e,t,a){},f833:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"entity-box"},[a("div",{staticClass:"execute-box"},[a("el-button-group",[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(t){e.editDialog=!0,e.formData={},e.action="新增供应商"}}},[e._v("新建")]),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(t){e.delDialog=!0}}},[e._v("删除")])],1)],1),a("div",{staticClass:"search-box"}),a("div",{staticClass:"table-box"},[a("el-table",{ref:"selection",staticStyle:{width:"100%"},attrs:{stripe:"",border:"","tooltip-effect":"dark",data:e.tableData,"row-key":"id","tree-props":{children:"children"}},on:{"selection-change":e.selectionChangeListener}},[a("el-table-column",{attrs:{type:"selection",width:"75"}}),a("el-table-column",{attrs:{prop:"id",label:"id"}}),a("el-table-column",{attrs:{prop:"menuName",label:"权限名称"}}),a("el-table-column",{attrs:{prop:"menuIcon",label:"权限图标",width:"180"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("i",{class:e.row.menuIcon})]}}])}),a("el-table-column",{attrs:{prop:"menuType",label:"权限类型"},scopedSlots:e._u([{key:"default",fn:function(t){return["F"==t.row.menuType?a("el-tag",{attrs:{type:"danger"}},[e._v("目录")]):e._e(),"M"==t.row.menuType?a("el-tag",{attrs:{type:"success"}},[e._v("菜单")]):e._e(),"B"==t.row.menuType?a("el-tag",{attrs:{type:"warning"}},[e._v("按钮")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"permsSign",label:"权限标识"}}),a("el-table-column",{attrs:{prop:"routerPath",label:"路由地址","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.editDialog=!0,e.findById(t.row.id)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.delLine(t.row.id)}}},[e._v("删除")])]}}])})],1)],1),a("div",{staticClass:"page-box"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total,"page-size":e.pageSize,"current-page":e.currentPage},on:{"current-change":e.pageChange}})],1),a("el-dialog",{attrs:{title:e.action,visible:e.editDialog,width:"40%"},on:{"update:visible":function(t){e.editDialog=t}}},[a("el-form",{ref:"form",attrs:{"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"父亲id："}},[a("treeselect",{attrs:{options:e.menuLevelList,"show-count":!0,placeholder:"选择所属分类",normalizer:e.normalizer},model:{value:e.formData.parentId,callback:function(t){e.$set(e.formData,"parentId",t)},expression:"formData.parentId"}})],1),a("el-form-item",{attrs:{label:"菜单分类："}},[a("el-radio-group",{model:{value:e.formData.menuType,callback:function(t){e.$set(e.formData,"menuType",t)},expression:"formData.menuType"}},[a("el-radio",{attrs:{label:"F"}},[e._v("目录")]),a("el-radio",{attrs:{label:"M"}},[e._v("菜单")]),a("el-radio",{attrs:{label:"B"}},[e._v("按钮")])],1)],1),"B"!=e.formData.menuType?a("el-form-item",{attrs:{label:"菜单图标："}},[a("el-input",{attrs:{placeholder:"输入一个菜单图标"},model:{value:e.formData.menuIcon,callback:function(t){e.$set(e.formData,"menuIcon",t)},expression:"formData.menuIcon"}})],1):e._e(),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"菜单名称："}},[a("el-input",{attrs:{placeholder:"菜单名称"},model:{value:e.formData.menuName,callback:function(t){e.$set(e.formData,"menuName",t)},expression:"formData.menuName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"菜单排序："}},[a("el-input",{attrs:{placeholder:"数字越小越靠前"},model:{value:e.formData.sorted,callback:function(t){e.$set(e.formData,"sorted",t)},expression:"formData.sorted"}})],1)],1)],1),"B"==e.formData.menuType?a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"请求路径："}},[a("el-input",{attrs:{placeholder:"请求路径"},model:{value:e.formData.requestUrl,callback:function(t){e.$set(e.formData,"requestUrl",t)},expression:"formData.requestUrl"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"请求方式："}},[a("el-input",{attrs:{placeholder:"请求方式"},model:{value:e.formData.requestMethod,callback:function(t){e.$set(e.formData,"requestMethod",t)},expression:"formData.requestMethod"}})],1)],1)],1):e._e(),a("el-row",["B"!=e.formData.menuType?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"路由地址："}},[a("el-input",{attrs:{placeholder:"路由地址"},model:{value:e.formData.routerPath,callback:function(t){e.$set(e.formData,"routerPath",t)},expression:"formData.routerPath"}})],1)],1):e._e(),"F"!=e.formData.menuType?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"菜单标识："}},[a("el-input",{attrs:{placeholder:"菜单标识"},model:{value:e.formData.permsSign,callback:function(t){e.$set(e.formData,"permsSign",t)},expression:"formData.permsSign"}})],1)],1):e._e()],1),"M"==e.formData.menuType?a("el-form-item",{attrs:{label:"组件地址："}},[a("el-input",{attrs:{placeholder:"组件地址"},model:{value:e.formData.componentPath,callback:function(t){e.$set(e.formData,"componentPath",t)},expression:"formData.componentPath"}})],1):e._e()],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.editDialog=!1,e.addOrEdit()}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"温馨提示",visible:e.delDialog,width:"30%"},on:{"update:visible":function(t){e.delDialog=t}}},[a("span",[e._v("您确定要删除"+e._s(e.ids)+"吗？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.delDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.delDialog=!1,e.deleteByIds()}}},[e._v("确 定")])],1)])],1)},r=[],l=(a("4160"),a("159b"),a("96cf"),a("1da1")),o=(a("99af"),a("81b6")),i={findAll:function(e,t){return o["a"].get("menu/getTreeData?currentPage=".concat(e,"&pageSize=").concat(t))},findById:function(e){return o["a"].get("menu/".concat(e))},addEntity:function(e){return o["a"].post("menu",e)},updateEntity:function(e){return o["a"].put("menu",e)},deleteByIds:function(e){return o["a"].delete("menu/".concat(e))},deleteById:function(e){return o["a"].delete("menu/".concat(e))}},s=i,c=a("ca17"),u=a.n(c),m=(a("542c"),{name:"index",components:{Treeselect:u.a},data:function(){return{tableData:[],currentPage:1,pageSize:5,total:0,editDialog:!1,delDialog:!1,action:"新增菜单",formData:{},ids:[],options:[],menuLevelList:[{id:0,menuName:"主菜单",children:[]}],normalizer:function(e){return{id:e.id,label:e.menuName,children:e.children}}}},created:function(){this.findAll()},methods:{findAll:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.findAll(e.currentPage,e.pageSize);case 2:a=t.sent,e.tableData=a.list,e.total=a.total,e.menuLevelList[0].children=e.tableData;case 6:case"end":return t.stop()}}),t)})))()},addOrEdit:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.formData.id){t.next=5;break}return t.next=3,s.updateEntity(e.formData);case 3:t.next=7;break;case 5:return t.next=7,s.addEntity(e.formData);case 7:e.findAll();case 8:case"end":return t.stop()}}),t)})))()},pageChange:function(e){this.currentPage=e,this.findAll()},findById:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.action="编辑菜单",a.next=3,s.findById(e);case 3:t.formData=a.sent;case 4:case"end":return a.stop()}}),a)})))()},selectionChangeListener:function(e){var t=this;this.ids=[],e.forEach((function(e){return t.ids.push(e.id)}))},deleteByIds:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.ids.length){t.next=4;break}e.$notify.error({title:"错误",message:"请先勾选要删除的记录"}),t.next=7;break;case 4:return t.next=6,s.deleteByIds(e.ids);case 6:e.findAll();case 7:case"end":return t.stop()}}),t)})))()},delLine:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.delDialog=!0,t.$refs.selection.clearSelection(),t.ids=[],t.ids.push(e);case 4:case"end":return a.stop()}}),a)})))()}}}),d=m,f=(a("519b"),a("2877")),p=Object(f["a"])(d,n,r,!1,null,"9b5a9030",null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-7a1d648f.201a6f04.js.map