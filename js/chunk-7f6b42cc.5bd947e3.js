(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f6b42cc"],{a192:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"entity-box"},[a("div",{staticClass:"execute-box"},[a("el-button-group",[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(t){e.editDialog=!0,e.formData={},e.action="新增分类"}}},[e._v("新建")]),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(t){e.delDialog=!0}}},[e._v("删除")])],1)],1),a("div",{staticClass:"search-box"}),a("div",{staticClass:"table-box"},[a("el-table",{ref:"selection",attrs:{stripe:"",border:"","tooltip-effect":"dark",data:e.tableData,"row-key":"id","tree-props":{children:"children"}}},[e._v(' style="width: 100%"> '),a("el-table-column",{attrs:{prop:"categoryName",label:"分类名称"}}),a("el-table-column",{attrs:{prop:"categoryDesc",label:"分类描述"}}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.editDialog=!0,e.findById(t.row.id)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.delLine(t.row.id)}}},[e._v("删除")])]}}])})],1)],1),a("div",{staticClass:"page-box"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total,"page-size":e.pageSize,"current-page":e.currentPage},on:{"current-change":e.pageChange}})],1),a("el-dialog",{attrs:{title:e.action,visible:e.editDialog,width:"40%"},on:{"update:visible":function(t){e.editDialog=t}}},[a("el-form",{ref:"form",attrs:{"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"分类名称"}},[a("el-input",{attrs:{placeholder:"请输入分类名称"},model:{value:e.formData.categoryName,callback:function(t){e.$set(e.formData,"categoryName",t)},expression:"formData.categoryName"}})],1),a("el-form-item",{attrs:{label:"分类描述"}},[a("el-input",{attrs:{placeholder:"请输入分类描述"},model:{value:e.formData.categoryDesc,callback:function(t){e.$set(e.formData,"categoryDesc",t)},expression:"formData.categoryDesc"}})],1),a("el-form-item",{attrs:{label:"所属分类"}},[a("treeselect",{attrs:{options:e.categoryLevelList,"show-count":!0,placeholder:"选择所属分类",normalizer:e.normalizer},model:{value:e.formData.parentId,callback:function(t){e.$set(e.formData,"parentId",t)},expression:"formData.parentId"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.editDialog=!1,e.addOrEdit()}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"温馨提示",visible:e.delDialog,width:"30%"},on:{"update:visible":function(t){e.delDialog=t}}},[a("span",[e._v("您确定要删除"+e._s(e.ids)+"吗？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.delDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.delDialog=!1,e.deleteByIds()}}},[e._v("确 定")])],1)])],1)},r=[],i=(a("4160"),a("159b"),a("96cf"),a("1da1")),o=(a("99af"),a("81b6")),c={getTreeData:function(e,t){return o["a"].get("category/getTreeData?currentPage=".concat(e,"&pageSize=").concat(t))},findAll:function(e,t){return o["a"].get("category?currentPage=".concat(e,"&pageSize=").concat(t))},findById:function(e){return o["a"].get("category/".concat(e))},addEntity:function(e){return o["a"].post("category",e)},updateEntity:function(e){return o["a"].put("category",e)},deleteByIds:function(e){return o["a"].delete("category/".concat(e))},deleteById:function(e){return o["a"].delete("category/".concat(e))}},l=c,s=a("ca17"),u=a.n(s),d=(a("542c"),{name:"index",components:{Treeselect:u.a},data:function(){return{tableData:[],total:0,currentPage:1,pageSize:5,editDialog:!1,delDialog:!1,action:"新增分类",formData:{},ids:[],options:[],categoryLevelList:[{id:0,categoryName:"主分类",children:[]}],normalizer:function(e){return{id:e.id,label:e.categoryName,children:e.children}}}},created:function(){this.findAll()},methods:{findAll:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.getTreeData(e.currentPage,e.pageSize);case 2:a=t.sent,e.tableData=a.list,e.total=a.total,e.categoryLevelList[0].children=e.tableData;case 6:case"end":return t.stop()}}),t)})))()},addOrEdit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.formData.id){t.next=5;break}return t.next=3,l.updateEntity(e.formData);case 3:t.next=7;break;case 5:return t.next=7,l.addEntity(e.formData);case 7:e.findAll();case 8:case"end":return t.stop()}}),t)})))()},pageChange:function(e){this.currentPage=e,this.findAll()},findById:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.action="编辑分类",a.next=3,l.findById(e);case 3:t.formData=a.sent;case 4:case"end":return a.stop()}}),a)})))()},selectionChangeListener:function(e){var t=this;this.ids=[],e.forEach((function(e){return t.ids.push(e.id)}))},deleteByIds:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.ids.length){t.next=4;break}e.$notify.error({title:"错误",message:"请先勾选要删除的记录"}),t.next=7;break;case 4:return t.next=6,l.deleteByIds(e.ids);case 6:e.findAll();case 7:case"end":return t.stop()}}),t)})))()},delLine:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.delDialog=!0,t.$refs.selection.clearSelection(),t.ids=[],t.ids.push(e);case 4:case"end":return a.stop()}}),a)})))()}}}),f=d,g=(a("b4b0a"),a("2877")),p=Object(g["a"])(f,n,r,!1,null,"7dc001db",null);t["default"]=p.exports},aaf7:function(e,t,a){},b4b0a:function(e,t,a){"use strict";a("aaf7")}}]);
//# sourceMappingURL=chunk-7f6b42cc.5bd947e3.js.map